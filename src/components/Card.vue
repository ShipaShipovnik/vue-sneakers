<template>
    <div
        class="card relative border border-slate-100 rounded-3xl p-8 cursor-pointer hover:-translate-y-2 hover:shadow-xl transition">

        <div class="fav-btn absolute top-8 left-8" @mouseover="hover = true" @mouseleave="hover = false"
            @click="onClickFavs">
            <!-- по умолчанию -->
            <svg v-if="!isFavorite && !hover" width="30" height="30" viewBox="0 0 30 30" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="29" height="29" rx="6.5" fill="white" stroke="#F8F8F8" />
                <path
                    d="M19.936 10.5341L19.9356 10.5337C19.6035 10.2108 19.2118 9.9539 18.7817 9.77731L18.781 9.77704C18.3348 9.59311 17.856 9.49891 17.3725 9.50001L17.3714 9.50001C16.6917 9.50001 16.0296 9.68466 15.4551 10.0325L15.455 10.0325C15.3176 10.1157 15.1874 10.2068 15.0643 10.3059L14.7508 10.5582L14.4373 10.3059C14.3142 10.2068 14.184 10.1157 14.0465 10.0325L14.0465 10.0325C13.4719 9.68466 12.8099 9.50001 12.1302 9.50001C11.6398 9.50001 11.1671 9.59299 10.7205 9.77705L10.72 9.77727C10.2882 9.95465 9.89974 10.2094 9.56579 10.5339L9.56511 10.5346C9.23393 10.8552 8.96959 11.2369 8.78688 11.6581L19.936 10.5341ZM19.936 10.5341C20.267 10.8553 20.5314 11.2373 20.7148 11.6585C20.9048 12.0966 21.0013 12.5602 21 13.0377V13.0392C21 13.4865 20.9079 13.9636 20.7162 14.461L20.7158 14.4622C20.557 14.8772 20.3218 15.3178 20.0153 15.7718C19.5302 16.4894 18.854 17.2509 17.9995 18.0336C16.5792 19.3337 15.1726 20.232 15.1216 20.2645L15.1215 20.2646L14.7521 20.4996L14.7517 20.4998L14.75 20.5L14.7483 20.4998L14.7479 20.4996L14.3785 20.2646L14.3786 20.2645L14.3707 20.2597C14.3709 20.2598 14.3705 20.2596 14.3695 20.2589C14.3671 20.2575 14.3616 20.254 14.3522 20.248C14.3394 20.2398 14.3214 20.2282 14.2985 20.2133C14.2529 20.1835 14.1884 20.1409 14.1077 20.0864C13.9463 19.9774 13.7208 19.8211 13.4524 19.625C12.9146 19.2322 12.2084 18.6823 11.5007 18.0338L11.5006 18.0338M19.936 10.5341L11.5006 18.0338M11.5006 18.0338C10.6462 17.2511 9.96994 16.4896 9.48483 15.7721L11.5006 18.0338ZM8.5 13.0392C8.5 12.5605 8.59679 12.0964 8.78686 11.6581L9.48481 15.772C9.17888 15.3189 8.94468 14.8778 8.78377 14.461C8.59204 13.9636 8.5 13.4865 8.5 13.0392Z"
                    stroke="#ECECEC" />
            </svg>
            <!-- фавнутая -->
            <svg v-if="isFavorite || hover" width="32" height="32" viewBox="0 0 32 32" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <rect width="32" height="32" rx="7" fill="#FEF0F0" />
                <path
                    d="M22.5849 12.2231C22.3615 11.7098 22.0393 11.2446 21.6365 10.8536C21.2333 10.4615 20.758 10.1499 20.2363 9.93573C19.6954 9.71277 19.1152 9.59865 18.5295 9.59999C17.7077 9.59999 16.906 9.82326 16.2092 10.245C16.0425 10.3459 15.8842 10.4567 15.7342 10.5774C15.5841 10.4567 15.4258 10.3459 15.2591 10.245C14.5623 9.82326 13.7606 9.59999 12.9388 9.59999C12.3471 9.59999 11.7737 9.71245 11.232 9.93573C10.7086 10.1507 10.2369 10.46 9.83181 10.8536C9.42842 11.2442 9.10619 11.7094 8.88337 12.2231C8.65167 12.7573 8.53333 13.3246 8.53333 13.9084C8.53333 14.4592 8.64667 15.0331 8.8717 15.6169C9.06005 16.1048 9.33008 16.6109 9.67512 17.1219C10.2219 17.9307 10.9736 18.7742 11.907 19.6293C13.4539 21.0467 14.9857 22.0258 15.0507 22.0655L15.4458 22.3169C15.6208 22.4277 15.8458 22.4277 16.0209 22.3169L16.4159 22.0655C16.4809 22.0241 18.0111 21.0467 19.5596 19.6293C20.493 18.7742 21.2448 17.9307 21.7915 17.1219C22.1366 16.6109 22.4082 16.1048 22.5949 15.6169C22.82 15.0331 22.9333 14.4592 22.9333 13.9084C22.935 13.3246 22.8166 12.7573 22.5849 12.2231Z"
                    fill="#FF8585" />
            </svg>
        </div>


        <img :src="imageUrl" alt="Sneaker" class="w-full">
        <p>{{ title }}</p>


        <div class="card_bottom mt-5">
            <div class="flex flex-col">
                <span class="text-slate-400">ЦЕНА:</span>
                <b>{{ price }} руб.</b>
            </div>
            <img src="/plus.svg" alt="plus">
        </div>
    </div>
</template>

<script setup>
import { ref } from 'vue';

defineProps({
    id: Number,
    imageUrl: String,
    isFavorite: Boolean,
    title: String,
    price: Number,
    onClickFavs: Function,
})

const hover = ref(false)

</script>

<style>
.card {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
}

.card_bottom {
    align-self: flex-end;
    display: flex;
    justify-content: space-between;
}

.card_bottom img {
    float: right;
}


.fav-btn {
    transition: opacity 0.3s ease-in-out;
}

.fav-btn svg {
    position: absolute;
    top: 0;
    left: 0;
}
</style>